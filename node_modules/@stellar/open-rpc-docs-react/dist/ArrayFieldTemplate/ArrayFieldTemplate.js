"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const react_1 = __importDefault(require("react"));
const utils_1 = require("@rjsf/utils");
/** The `ArrayFieldTemplate` component is the template used to render all items in an array.
 *
 * @param props - The `ArrayFieldTemplateItemType` props for the component
 */
function ArrayFieldTemplate(props) {
    const { canAdd, className, disabled, idSchema, uiSchema, items, onAddClick, readonly, registry, required, schema, title, } = props;
    const uiOptions = (0, utils_1.getUiOptions)(uiSchema);
    const ArrayFieldDescriptionTemplate = (0, utils_1.getTemplate)('ArrayFieldDescriptionTemplate', registry, uiOptions);
    const ArrayFieldItemTemplate = (0, utils_1.getTemplate)('ArrayFieldItemTemplate', registry, uiOptions);
    const ArrayFieldTitleTemplate = (0, utils_1.getTemplate)('ArrayFieldTitleTemplate', registry, uiOptions);
    // Button templates are not overridden in the uiSchema
    const { ButtonTemplates: { AddButton }, } = registry.templates;
    return (react_1.default.createElement(react_1.default.Fragment, null,
        react_1.default.createElement("fieldset", { className: className + ' row', id: idSchema.$id },
            react_1.default.createElement(ArrayFieldTitleTemplate, { idSchema: idSchema, title: uiOptions.title || title, required: required, schema: schema, uiSchema: uiSchema, registry: registry }),
            react_1.default.createElement("div", { className: 'array-item-list' }, items &&
                items.map(({ key, ...itemProps }) => (react_1.default.createElement(ArrayFieldItemTemplate, { key: key, ...itemProps })))),
            canAdd && (react_1.default.createElement("div", { className: "col col--12", style: {
                    padding: '0',
                    justifyContent: 'end',
                    display: 'flex'
                } },
                react_1.default.createElement(AddButton, { className: 'array-item-add', onClick: onAddClick, disabled: disabled || readonly, uiSchema: uiSchema, registry: registry }))))));
}
exports.default = ArrayFieldTemplate;
//# sourceMappingURL=ArrayFieldTemplate.js.map