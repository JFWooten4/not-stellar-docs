{"version":3,"file":"Method.js","sourceRoot":"","sources":["../../src/Method/Method.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n  OpenrpcDocument,\n  MethodObject,\n  ContentDescriptorObject,\n  ErrorObject,\n  ExamplePairingObject,\n  LinkObject,\n} from \"@open-rpc/meta-schema\";\nimport MarkdownDescription from \"../MarkdownDescription/MarkdownDescription\";\nimport React from \"react\";\nimport Links from \"../Links/Links\";\nimport Tags from \"../Tags/Tags\";\nimport Params from \"../Params/Params\";\nimport ContentDescriptor from \"../ContentDescriptor/ContentDescriptor\";\nimport ExamplePairings from \"../ExamplePairings/ExamplePairings\";\nimport Errors from \"../Errors/Errors\";\nimport _ from \"lodash\";\n\nconst defaultJsonViewOptions = {\n  theme: \"summerfruit:inverted\",\n  collapseStringsAfterLength: 25,\n  displayDataTypes: false,\n  displayObjectSize: false,\n  indentWidth: 2,\n  name: false,\n}\n\nexport interface IMethodPluginProps {\n  openrpcMethodObject: MethodObject;\n}\n\ninterface IProps {\n  method?: MethodObject;\n  methodPlugins?: Array<React.FC<IMethodPluginProps>>;\n  components?: {\n    CodeBlock: React.FC<{children: string, className?: string}>;\n    Tabs?: React.FC<{children: any;}>;\n    TabItem?: React.FC<{children: any; label: string; value: string}>;\n  };\n  onExamplePairingChange?: (examplePairing: ExamplePairingObject | undefined) => void;\n  reactJsonOptions?: object;\n  uiSchema?: any;\n  key?: string;\n}\n\nconst Method = ({method, uiSchema, key, methodPlugins, reactJsonOptions, onExamplePairingChange, components}: IProps) => {\n  reactJsonOptions = {...defaultJsonViewOptions, ...reactJsonOptions};\n  if (!method) {\n    return null;\n  }\n  if (_.isEmpty(method)) {\n    return null;\n  }\n  const links = method.links as LinkObject[];\n  return (\n    <div\n      id={method.name}\n      key={key}\n      className=\"method margin-bottom--sm\"\n    >\n\n      <h1 key={method.name} className=\"method-name\" style={{ marginRight: \"3px\" }}>{method.name}</h1>\n\n      {method.tags && method.tags.length > 0 && <section key=\"tags\">\n        <Tags tags={method.tags as any} />\n      </section>\n      }\n\n      {method.description ?\n       <section key=\"description\">\n         <MarkdownDescription\n           uiSchema={uiSchema}\n           source={method.description}\n           className=\"method-description\"\n         />\n       </section>\n      : method.summary ?\n       <p key={method.summary} className=\"method-summary\">\n         {method.summary}\n       </p>\n      : null\n      }\n      <section key=\"params\">\n        <div style={{marginBottom: \"var(--ifm-heading-margin-bottom)\"}}>\n          <h2 style={{ display: 'inline', marginRight: '3px' }}>Params</h2>\n          <span>({method.params?.length || 0})</span>\n        </div>\n\n        {method.params && method.params.length > 0 &&\n         <Params params={method.params as ContentDescriptorObject[]} uiSchema={uiSchema} />\n        }\n      </section>\n\n      {method.result &&\n       <section key=\"result-title\">\n         <div style={{marginBottom: \"var(--ifm-heading-margin-bottom)\"}}>\n           <h2 style={{ display: 'inline', marginRight: '3px' }}>Result</h2>\n           <span><i>({(method.result as ContentDescriptorObject).name})</i></span>\n         </div>\n\n         <ContentDescriptor\n           contentDescriptor={method.result as ContentDescriptorObject}\n           hideRequired={true} uiSchema={uiSchema} />\n       </section>\n      }\n      {method.errors && method.errors.length > 0 &&\n       <section key=\"errors\">\n         <h2>Errors</h2>\n         <Errors errors={method.errors as ErrorObject[]} reactJsonOptions={reactJsonOptions} />\n       </section>\n      }\n\n      {method.examples && method.examples.length > 0 &&\n       <section key=\"examples\">\n         <div style={{marginBottom: \"var(--ifm-heading-margin-bottom)\"}}>\n           <h2 style={{ marginRight: '3px' }}>\n             { (method.examples as ExamplePairingObject[]).length > 1 ? \"Examples\" : \"Example\" }\n           </h2>\n         </div>\n         <ExamplePairings\n           uiSchema={uiSchema}\n           components={components}\n           examples={method.examples as ExamplePairingObject[]}\n           onExamplePairingChange={onExamplePairingChange}\n           method={method}\n           reactJsonOptions={reactJsonOptions} />\n       </section>\n      }\n\n      {links && links.length > 0 &&\n       <section key=\"links-title\">\n         <h2>Links</h2>\n         <section key=\"links\">\n           <Links links={links} components={components} />\n         </section>\n       </section>\n      }\n      {methodPlugins && methodPlugins.length > 0 &&\n       <section key=\"method-plugins\">\n         {methodPlugins.map((CompDef: any) => {\n           return (\n             <CompDef openrpcMethodObject={method} />\n           );\n         })}\n       </section>\n      }\n    </div>\n  );\n\n};\n\nexport default Method;\n"]}